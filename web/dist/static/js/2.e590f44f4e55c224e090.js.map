{"version":3,"sources":["webpack:///./src/components/modelComponents/Classification.vue?c01a","webpack:///./src/components/modelComponents/Classification.vue","webpack:///src/components/modelComponents/Classification.vue"],"names":["modelComponents_Classification","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","xs","sm","md","lg","xl","_v","_s","$t","directives","name","rawName","value","imageUrl","expression","thumb","full","id","on","click","$event","moveClick","src","__webpack_require__","alt","isLoading","ref","type","change","fileChange","showImages","modelData","_e","_l","item","index","modelResult","key","style","Number","String","split","slice","join","JSON","stringify","args","gutter","arg_data","arg_name","placeholder","model","callback","$$v","$set","label","precision","step","min","Math","apply","values","max","href","imageClear","stopAxios","class","submit-forbidden","isLoading2","submit","staticRenderFns","__vue_styles__","ssrContext","Component","normalizeComponent","Classification","__webpack_exports__","props","components","ShowArea","__WEBPACK_IMPORTED_MODULE_2__components_modelComponents_subComponents_ShowArea_vue__","LoadingAnimationVue","__WEBPACK_IMPORTED_MODULE_3__components_modelComponents_subComponents_LoadingAnimation_vue__","data","baseUrl","__WEBPACK_IMPORTED_MODULE_1__assets_config_json___default","a","base_url","falseShow","methods","getType","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","_this","$nextTick","$refs","filebutton","dispatchEvent","MouseEvent","_this2","imageVerification","console","log","files","formData","FormData","append","$axios","post","Content-type","then","res","err","alert","catch","$message","message","source","cancel","_this3","post_data","local_image_url","conda_env","condaEnv","classname","modelType","demoname","modelId","CancelToken","cancelToken","token","eval","onDrop","e","window","event","preventDefault","dataTransfer","created","mounted","_this4","setTimeout","that","allimg","document","getElementById","ondragenter","ondragover","ondragleave","addEventListener","$eventBus","$on","beforedestroy","eventBus","$off"],"mappings":"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","file":"static/js/2.e590f44f4e55c224e090.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{staticClass:\"show-wrap\"},[_c('el-col',{staticClass:\"model-left-wrap\",attrs:{\"xs\":24,\"sm\":12,\"md\":12,\"lg\":12,\"xl\":12}},[_c('p',{staticClass:\"model-inout-tittle\"},[_vm._v(_vm._s(_vm.$t(\"message.input_image\")))]),_vm._v(\" \"),_c('vue-viewer',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imageUrl != ''),expression:\"imageUrl != ''\"}],staticClass:\"source-image\",attrs:{\"thumb\":_vm.imageUrl,\"full\":_vm.imageUrl}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imageUrl == ''),expression:\"imageUrl == ''\"}],staticClass:\"input-wrap\",attrs:{\"id\":\"drop-area\"},on:{\"click\":function($event){return _vm.moveClick()}}},[_c('img',{attrs:{\"src\":require(\"@/assets/ui/默认图片@2x.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading == false),expression:\"isLoading == false\"}],staticClass:\"input-help\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"message.drop_image\"))+\"\\n        \")]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading == false),expression:\"isLoading == false\"}],staticClass:\"input-help\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"message.or\"))+\"\\n        \")]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading == false),expression:\"isLoading == false\"}],staticClass:\"input-help\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"message.click_upload\"))+\"\\n        \")]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}]},[_vm._v(\"uploading......\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(0),expression:\"0\"}],ref:\"filebutton\",attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.fileChange()}}})]),_vm._v(\" \"),_c('ShowArea',{staticClass:\"centered lr-padding\",attrs:{\"showImages\":_vm.modelData['showImages']}})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"model-right-wrap\",attrs:{\"xs\":24,\"sm\":12,\"md\":12,\"lg\":12,\"xl\":12}},[_c('p',{staticClass:\"model-inout-tittle\"},[_vm._v(_vm._s(_vm.$t(\"message.result\")))]),_vm._v(\" \"),_c('div',[_c('LoadingAnimationVue',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading2),expression:\"isLoading2\"}]}),_vm._v(\" \"),(_vm.falseShow)?_c('p',[_vm._v(\"False！\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.modelResult),function(item,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modelResult != ''),expression:\"modelResult != ''\"}],key:index},[_c('div',{staticClass:\"result-item-percentage\"},[_c('div',{staticClass:\"item-bar\",style:('width:' +\n                Number(String(item.split(' ').slice(-1))) * 90 +\n                '%')}),_vm._v(\" \"),_c('p',[_vm._v(\"\\n              \"+_vm._s(String(Number(item.split(\" \").slice(-1))).slice(0, 4))+\"\\n            \")])]),_vm._v(\" \"),_c('p',{staticClass:\"result-item-type\"},[_vm._v(\"\\n            \"+_vm._s(String(item.split(\" \").slice(0, -1).join(\" \")))+\"\\n          \")])])}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.modelResult != ''),expression:\"modelResult != ''\"}],staticClass:\"text-res\"},[_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.modelResult)+\"\\n          \")])])],2)])],1),_vm._v(\" \"),(\n      JSON.stringify(_vm.modelData.args) != '{}' &&\n      typeof _vm.modelData.args != 'undefined'\n    )?_c('el-row',{staticClass:\"arg-background\",attrs:{\"gutter\":10}},_vm._l((_vm.modelData.args),function(arg_data,arg_name){return _c('el-col',{key:arg_name,attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":12,\"xl\":12}},[_c('div',{staticClass:\"arg-wrap\"},[_c('p',[_vm._v(_vm._s(arg_name)+\":\")]),_vm._v(\" \"),(arg_data.type == 'select')?_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(arg_data.default),callback:function ($$v) {_vm.$set(arg_data, \"default\", $$v)},expression:\"arg_data.default\"}},_vm._l((arg_data.values),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1):_vm._e(),_vm._v(\" \"),(arg_data.type == 'int')?_c('el-input-number',{attrs:{\"precision\":0,\"step\":1,\"min\":Math.min.apply(null, arg_data.values),\"max\":Math.max.apply(null, arg_data.values)},model:{value:(arg_data.default),callback:function ($$v) {_vm.$set(arg_data, \"default\", $$v)},expression:\"arg_data.default\"}}):_vm._e(),_vm._v(\" \"),(arg_data.type == 'float')?_c('el-input-number',{attrs:{\"precision\":2,\"step\":0.1,\"min\":Math.min.apply(null, arg_data.values),\"max\":Math.max.apply(null, arg_data.values)},model:{value:(arg_data.default),callback:function ($$v) {_vm.$set(arg_data, \"default\", $$v)},expression:\"arg_data.default\"}}):_vm._e()],1)])}),1):_vm._e(),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":12,\"sm\":6,\"md\":6,\"lg\":6,\"xl\":6}},[_c('a',{staticClass:\"clear upload-btn\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){_vm.imageClear(), _vm.stopAxios()}}},[_vm._v(_vm._s(_vm.$t(\"message.clear\")))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":12,\"sm\":6,\"md\":6,\"lg\":6,\"xl\":6}},[_c('a',{staticClass:\"submit upload-btn\",class:{ 'submit-forbidden': _vm.isLoading2 == true },attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(_vm._s(_vm.$t(\"message.submit\")))])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f2a6044\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/modelComponents/Classification.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f2a6044\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Classification.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Classification.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Classification.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f2a6044\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Classification.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/modelComponents/Classification.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <!-- {{modelData}} -->\r\n    <!-- 输入输出界面 -->\r\n    <el-row class=\"show-wrap\">\r\n      <el-col\r\n        :xs=\"24\"\r\n        :sm=\"12\"\r\n        :md=\"12\"\r\n        :lg=\"12\"\r\n        :xl=\"12\"\r\n        class=\"model-left-wrap\"\r\n      >\r\n        <p class=\"model-inout-tittle\">{{ $t(\"message.input_image\") }}</p>\r\n        <vue-viewer\r\n          v-show=\"imageUrl != ''\"\r\n          :thumb=\"imageUrl\"\r\n          :full=\"imageUrl\"\r\n          class=\"source-image\"\r\n        >\r\n        </vue-viewer>\r\n        <div\r\n          id=\"drop-area\"\r\n          class=\"input-wrap\"\r\n          v-show=\"imageUrl == ''\"\r\n          @click=\"moveClick()\"\r\n        >\r\n          <img src=\"@/assets/ui/默认图片@2x.png\" alt=\"\" />\r\n          <p class=\"input-help\" v-show=\"isLoading == false\">\r\n            {{ $t(\"message.drop_image\") }}\r\n          </p>\r\n          <p class=\"input-help\" v-show=\"isLoading == false\">\r\n            {{ $t(\"message.or\") }}\r\n          </p>\r\n          <p class=\"input-help\" v-show=\"isLoading == false\">\r\n            {{ $t(\"message.click_upload\") }}\r\n          </p>\r\n          <p v-show=\"isLoading\">uploading......</p>\r\n          <input\r\n            ref=\"filebutton\"\r\n            type=\"file\"\r\n            v-show=\"0\"\r\n            @change=\"fileChange()\"\r\n          />\r\n        </div>\r\n        <ShowArea\r\n          :showImages=\"modelData['showImages']\"\r\n          class=\"centered lr-padding\"\r\n        ></ShowArea>\r\n      </el-col>\r\n      <el-col\r\n        :xs=\"24\"\r\n        :sm=\"12\"\r\n        :md=\"12\"\r\n        :lg=\"12\"\r\n        :xl=\"12\"\r\n        class=\"model-right-wrap\"\r\n      >\r\n        <p class=\"model-inout-tittle\">{{ $t(\"message.result\") }}</p>\r\n        <div>\r\n          <!-- <p v-show=\"isLoading2\">uploading......</p> -->\r\n          <LoadingAnimationVue v-show=\"isLoading2\"></LoadingAnimationVue>\r\n\r\n          <p v-if=\"falseShow\">False！</p>\r\n\r\n          <div\r\n            v-for=\"(item, index) in modelResult\"\r\n            :key=\"index\"\r\n            v-show=\"modelResult != ''\"\r\n          >\r\n            <div class=\"result-item-percentage\">\r\n              <div\r\n                class=\"item-bar\"\r\n                :style=\"\r\n                  'width:' +\r\n                  Number(String(item.split(' ').slice(-1))) * 90 +\r\n                  '%'\r\n                \"\r\n              ></div>\r\n              <p>\r\n                {{ String(Number(item.split(\" \").slice(-1))).slice(0, 4) }}\r\n              </p>\r\n            </div>\r\n            <p class=\"result-item-type\">\r\n              {{ String(item.split(\" \").slice(0, -1).join(\" \")) }}\r\n            </p>\r\n          </div>\r\n          <!-- {{JSON.parse(modelResult)}} -->\r\n          <div class=\"text-res\" v-show=\"modelResult != ''\">\r\n            <p>\r\n              {{ modelResult }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <!-- <img :src=\"imageUrl\" alt=\"\" /> -->\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 模型参数 -->\r\n    <!-- {{ String(typeof(modelData.args)) }}\r\n    {{ modelData.args }} -->\r\n    <el-row\r\n      :gutter=\"10\"\r\n      v-if=\"\r\n        JSON.stringify(modelData.args) != '{}' &&\r\n        typeof modelData.args != 'undefined'\r\n      \"\r\n      class=\"arg-background\"\r\n    >\r\n      <el-col\r\n        :xs=\"24\"\r\n        :sm=\"24\"\r\n        :md=\"24\"\r\n        :lg=\"12\"\r\n        :xl=\"12\"\r\n        v-for=\"(arg_data, arg_name) in modelData.args\"\r\n        :key=\"arg_name\"\r\n      >\r\n        <div class=\"arg-wrap\">\r\n          <p>{{ arg_name }}:</p>\r\n          <!-- select类型 -->\r\n          <el-select\r\n            v-if=\"arg_data.type == 'select'\"\r\n            v-model=\"arg_data.default\"\r\n            placeholder=\"请选择\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in arg_data.values\"\r\n              :key=\"item\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n          <!-- int类型 -->\r\n          <el-input-number\r\n            v-if=\"arg_data.type == 'int'\"\r\n            v-model=\"arg_data.default\"\r\n            :precision=\"0\"\r\n            :step=\"1\"\r\n            :min=\"Math.min.apply(null, arg_data.values)\"\r\n            :max=\"Math.max.apply(null, arg_data.values)\"\r\n          ></el-input-number>\r\n          <!-- float类型 -->\r\n          <el-input-number\r\n            v-if=\"arg_data.type == 'float'\"\r\n            v-model=\"arg_data.default\"\r\n            :precision=\"2\"\r\n            :step=\"0.1\"\r\n            :min=\"Math.min.apply(null, arg_data.values)\"\r\n            :max=\"Math.max.apply(null, arg_data.values)\"\r\n          ></el-input-number>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 操作button -->\r\n    <el-row :gutter=\"10\">\r\n      <el-col :xs=\"12\" :sm=\"6\" :md=\"6\" :lg=\"6\" :xl=\"6\">\r\n        <a\r\n          href=\"javascript:void(0);\"\r\n          class=\"clear upload-btn\"\r\n          @click=\"imageClear(), stopAxios()\"\r\n          >{{ $t(\"message.clear\") }}</a\r\n        >\r\n      </el-col>\r\n      <el-col :xs=\"12\" :sm=\"6\" :md=\"6\" :lg=\"6\" :xl=\"6\">\r\n        <a\r\n          href=\"javascript:void(0);\"\r\n          class=\"submit upload-btn\"\r\n          :class=\"{ 'submit-forbidden': isLoading2 == true }\"\r\n          @click=\"submit()\"\r\n          >{{ $t(\"message.submit\") }}</a\r\n        >\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport configData from \"@/assets/config.json\";\r\nimport ShowArea from \"@/components/modelComponents/subComponents/ShowArea.vue\";\r\nimport LoadingAnimationVue from \"@/components/modelComponents/subComponents/LoadingAnimation.vue\";\r\n\r\n// import eventBus from \"@/assets/eventBus.js\";\r\n\r\nexport default {\r\n  name: \"classification\",\r\n  props: [\"modelData\"],\r\n  components: { ShowArea, LoadingAnimationVue },\r\n  data() {\r\n    return {\r\n      baseUrl: configData.base_url,\r\n      imageUrl: \"\",\r\n      isLoading: false,\r\n      isLoading2: false,\r\n      modelResult: \"\",\r\n      falseShow: false,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getType(data) {\r\n      return typeof data;\r\n    },\r\n    //   点击事件转移\r\n    moveClick() {\r\n      // https://blog.csdn.net/youdu0213/article/details/122825179\r\n      this.$nextTick(() => {\r\n        this.$refs.filebutton.dispatchEvent(new MouseEvent(\"click\"));\r\n        // console.log(this.$refs.filebutton.files)\r\n      });\r\n    },\r\n\r\n    fileChange() {\r\n      if (this.imageVerification(this.$refs.filebutton)) {\r\n        this.isLoading = true;\r\n        this.$nextTick(() => {\r\n          console.log(this.$refs.filebutton.files);\r\n          const formData = new FormData();\r\n          formData.append(\"image\", this.$refs.filebutton.files[0]);\r\n          this.$axios\r\n            .post(this.baseUrl + \"upload\", formData, {\r\n              \"Content-type\": \"multipart/form-data\",\r\n            })\r\n            .then(\r\n              (res) => {\r\n                console.log(res.data);\r\n                this.imageUrl = this.baseUrl + \"absimage?path=\" + res.data;\r\n              },\r\n              (err) => {\r\n                alert(\"上传图片失败！\");\r\n                // 出现错误时的处理\r\n              }\r\n            )\r\n            .catch((err) => {\r\n              this.$message({\r\n                message: \"上传图片失败！\" + err,\r\n                type: \"error\",\r\n              });\r\n            });\r\n        });\r\n      } else {\r\n        this.$message({\r\n          message: \"图片校验失败！\",\r\n          type: \"warning\",\r\n        });\r\n        // console.log(\"图片校验失败！\");\r\n      }\r\n    },\r\n    stopAxios() {\r\n      this.source.cancel(\"Operation canceled by the user.\");\r\n    },\r\n    imageClear() {\r\n      // console.log(\"clear is called!!\");\r\n      (this.imageUrl = \"\"), (this.$refs.filebutton.value = \"\");\r\n      this.isLoading = false;\r\n      this.isLoading2 = false;\r\n      this.modelResult = \"\";\r\n      this.falseShow = false;\r\n    },\r\n    submit() {\r\n      if (this.imageUrl == \"\") {\r\n        this.$message({\r\n          message: \"请先上传图片！\",\r\n          type: \"warning\",\r\n        });\r\n      } else {\r\n        this.falseShow = false;\r\n        this.isLoading2 = true;\r\n        this.modelResult = \"\";\r\n        let post_data = {\r\n          local_image_url: this.imageUrl.split(\"=\")[1],\r\n          conda_env: this.modelData.condaEnv,\r\n          args: {},\r\n          classname: this.modelData.modelType,\r\n          demoname: this.modelData.modelId,\r\n        };\r\n        for (var arg_name in this.modelData.args) {\r\n          post_data[\"args\"][arg_name] =\r\n            this.modelData.args[arg_name][\"default\"];\r\n        }\r\n        console.log(post_data);\r\n        this.CancelToken = this.$axios.CancelToken;\r\n        this.source = this.CancelToken.source();\r\n        this.$axios\r\n          .post(this.baseUrl + \"submit\", post_data, {\r\n            cancelToken: this.source.token,\r\n          })\r\n          .then((res) => {\r\n            // if(res.data)\r\n\r\n            this.modelResult = eval(res.data);\r\n            if (this.modelResult == false) {\r\n              this.falseShow = true;\r\n            }\r\n            console.log(\"res=>\", res);\r\n            this.isLoading2 = false;\r\n          })\r\n          .catch((err) => {\r\n            this.isLoading2 = false;\r\n            this.$message({\r\n              message: err,\r\n              type: \"error\",\r\n            });\r\n          });\r\n      }\r\n    },\r\n\r\n    // 拖拽上传\r\n    onDrop(e) {\r\n      var that = this;\r\n      let ev = window.event || e;\r\n      ev.preventDefault();\r\n      this.$refs.filebutton.files = e.dataTransfer.files;\r\n      this.fileChange();\r\n      console.log(this.$refs.filebutton.files);\r\n      console.log(e.dataTransfer.files[0]);\r\n      // this.imgSaveToUrl(e.dataTransfer.files[0],1,true)\r\n    },\r\n  },\r\n  created() {\r\n    // console.log(\"classification was created!\");\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      var that = this;\r\n      let allimg = document.getElementById(\"drop-area\");\r\n      allimg.ondragenter =\r\n        allimg.ondragover =\r\n        allimg.ondragleave =\r\n          function () {\r\n            // 阻止默认事件\r\n            return false;\r\n          };\r\n      //释放文件\r\n      allimg.addEventListener(\"drop\", that.onDrop);\r\n    }, 0);\r\n    // 接收showArea区域点击事件\r\n    var that = this;\r\n    this.$eventBus.$on(\"addClick\", function (data) {\r\n      that.moveClick();\r\n      // console.log(\"father was called!\"); // 打印结果 = '传递的参数'\r\n    });\r\n    this.$eventBus.$on(\"addShowImage\", function (data) {\r\n      that.imageClear();\r\n\r\n      that.imageUrl = data;\r\n      console.log(data); // 打印结果 = '传递的参数'\r\n    });\r\n  },\r\n  beforedestroy() {\r\n    // ## 在beforedestroy 关闭 eventBus监听\r\n\r\n    eventBus.$off(\"eventName\");\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.show-wrap {\r\n  background: rgba(250, 251, 253, 1);\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n}\r\n.model-left-bg {\r\n  background: #ffffff;\r\n}\r\n.model-left-wrap {\r\n  padding: 20px 35px;\r\n  background: #ffffff;\r\n}\r\n.model-right-wrap {\r\n  padding: 20px 35px;\r\n}\r\n.model-inout-tittle {\r\n  font-size: 16px;\r\n  font-family: Microsoft YaHei;\r\n  font-weight: bold;\r\n  color: #333333;\r\n}\r\n.item-bar {\r\n  /* width: 80%; */\r\n  height: 4px;\r\n  background: linear-gradient(90deg, #6672fb 0%, #dfe2ff 100%);\r\n  border-radius: 2px;\r\n}\r\n.input-wrap {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 280px;\r\n  background: #fafbfd;\r\n  border: 3px dashed #dddfe1;\r\n  border-radius: 16px;\r\n  margin-bottom: 10px;\r\n  cursor: pointer;\r\n}\r\n.result-item-percentage {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.result-item-type {\r\n  margin-top: -5px;\r\n  font-size: 15px;\r\n  font-family: Microsoft YaHei;\r\n  font-weight: 400;\r\n  color: #333333;\r\n}\r\n.result-item-percentage {\r\n  margin-top: 10px;\r\n  white-space: nowrap;\r\n}\r\n.text-res {\r\n  margin-top: 20px;\r\n  background: #ffffff;\r\n  border-radius: 16px;\r\n  padding: 20px;\r\n}\r\n.text-res > p {\r\n  font-size: 15px;\r\n  font-family: Microsoft YaHei;\r\n  font-weight: 400;\r\n  color: #333333;\r\n  line-height: 20px;\r\n}\r\n.input-wrap > img {\r\n  height: 90px;\r\n}\r\n.input-wrap > .input-help {\r\n  font-size: 16px;\r\n  font-family: Microsoft YaHei;\r\n  font-weight: 400;\r\n  color: #333333;\r\n}\r\n.source-image>img{\r\n  margin-top: 15px;\r\n  width: 100%;\r\n  border-radius: 16px;\r\n  height: auto;\r\n  margin:0;\r\n  cursor: zoom-in;\r\n}\r\n.upload-btn {\r\n  text-align: center;\r\n  display: inline-block;\r\n  width: 100%;\r\n  font-size: 16px;\r\n  font-family: Microsoft YaHei;\r\n  font-weight: 400;\r\n  line-height: 33px;\r\n  margin-top: 10px;\r\n}\r\n.upload-btn:hover {\r\n  text-decoration-line: underline;\r\n}\r\n.clear {\r\n  font-size: 18px;\r\n  font-family: Arial;\r\n  font-weight: bold;\r\n  color: #333333;\r\n  background: #ffffff;\r\n  box-shadow: 0px 10px 16px 0px rgba(186, 185, 185, 0.185);\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n}\r\n.submit {\r\n  font-size: 18px;\r\n  font-family: Arial;\r\n  font-weight: bold;\r\n  color: #333333;\r\n  background: #fed100;\r\n  box-shadow: 0px 10px 16px 0px rgba(254, 179, 0, 0.3);\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n}\r\n.submit-forbidden {\r\n  color: #696868;\r\n  pointer-events: none;\r\n  background: #a8a8a6;\r\n  box-shadow: 0px 10px 16px 0px rgba(126, 125, 124, 0.3);\r\n}\r\n.arg-wrap {\r\n  max-width: 350px;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  /* justify-content: flex-start; */\r\n}\r\n.arg-wrap > * {\r\n  width: 50%;\r\n  margin: 5px 0;\r\n}\r\n.arg-wrap > p {\r\n  width: 40%;\r\n\r\n  /* padding-left: 10px; */\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/modelComponents/Classification.vue"],"sourceRoot":""}